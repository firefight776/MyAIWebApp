# MyAIWebApp
AI Image Gallery ‚Äî AWS Fargate + Lambda + Bedrock (Claude 3 Haiku)

A production-style web app that lets users upload images, generates AI descriptions via Amazon Bedrock (Anthropic Claude 3 Haiku), and serves a live gallery behind an Application Load Balancer on ECS Fargate. The project showcases modern AWS architecture, least-privilege IAM, and a GitHub Actions CI/CD pipeline.

‚ú® Highlights

Frontend: Static UI (index.html / upload.html) delivered via Fargate ALB + Lambda Function URL for uploads

AI: Image descriptions generated by Bedrock ‚Üí Claude 3 Haiku

Data: Images in S3, metadata in DynamoDB (ImageMetadata)

Infra: Custom VPC with public/private subnets, IGW & NAT

CI/CD: GitHub Actions builds & pushes Docker to ECR, updates ECS task/service

Domain: Route 53 hosts custom domain and ALB alias (HTTPS via ACM)

<img width="1071" height="626" alt="image" src="https://github.com/user-attachments/assets/dcbdbf63-52ce-4484-b044-9f8a4049e617" />



Buckets

Uploads: \$ACCOUNT_ID-upload-bucket-\$REGION

Website assets: \$ACCOUNT_ID-website-assets-\$REGION

Table

DynamoDB: ImageMetadata (PK: ImageKey)

üîÅ Web Application Workflow

Image Upload Interface

Users land on your ALB-backed web app (ECS Fargate, custom domain via Route 53).

index.html links to upload.html (served by a Lambda Function URL).

Upload

upload.html PUTs the file to S3 (uploads bucket).

A placeholder record is created/updated in DynamoDB (ImageMetadata).

Process + AI Description

Push Lambda moves the image into the website assets bucket and updates metadata.

AI Lambda fetches the image, calls Bedrock (Claude 3 Haiku), and stores the description in DynamoDB.

View

The Fargate app lists images + AI descriptions by querying DynamoDB and rendering URLs from S3 (assets).

CI/CD

A push to main triggers GitHub Actions:

Build Docker image ‚Üí push to ECR

Register new ECS task definition

Update ECS Fargate service behind the ALB

üß∞ Key Components

Compute: AWS Lambda, ECS Fargate

Storage: Amazon S3 (uploads + website assets)

Data: Amazon DynamoDB (image metadata + descriptions)

AI: Amazon Bedrock (Anthropic Claude 3 Haiku)

Networking: Custom VPC, public/private subnets, IGW, NAT, security groups

Traffic: ALB (HTTPS via ACM), Route 53 custom domain

Pipeline: GitHub Actions ‚Üí ECR ‚Üí ECS

Auth (recommended): OIDC (GitHub Actions ‚Üí IAM role) for keyless deploys

‚úÖ Prerequisites

AWS CLI installed & authenticated (or use AWS CloudShell).

Docker installed (CloudShell includes Docker).

GitHub account + repo.

Route 53 hosted zone for your domain.

Bedrock model access: In the Bedrock console, request & enable Anthropic Claude 3 Haiku.

Comfortable with basic shell commands (ls, pwd, cd) and simple sed variable substitution.

Tip: On Amazon Linux 2023 (CloudShell), install tree to visualize folders:

sudo yum install -y tree

üîß Configuration (Environment & Variables)

Account/Region

ACCOUNT_ID=$(aws sts get-caller-identity --query Account --output text)

REGION=us-east-1 (adjust if needed)

Buckets

Uploads: "$ACCOUNT_ID-upload-bucket-$REGION"

Assets: "$ACCOUNT_ID-website-assets-$REGION"

Lambda env vars (per function)

WEBSITE_ASSETS_BUCKET, UPLOAD_BUCKET, DYNAMODB_TABLE=ImageMetadata

Frontend links

In index.html: Update Upload button to the upload Function URL

In upload.html: ‚ÄúBack to Gallery‚Äù ‚Üí your ALB domain (or custom domain)

üöÄ CI/CD (GitHub Actions)

Trigger: push to main

Jobs:

Build & tag Docker image

Push to ECR

Register ECS task definition

Update ECS service behind ALB

Secrets/Vars (recommended: OIDC + minimal secrets)

AWS_REGION: e.g., us-east-1

AWS_ROLE_TO_ASSUME: arn:aws:iam::$ACCOUNT_ID:role/GitHubActionsRole

(If not using OIDC, provide keys as secrets ‚Äî but OIDC is preferred.)

üß™ How to Test

Open the upload Function URL, upload an image, confirm it appears in the uploads bucket.

Verify Push Lambda moves it to images/uploads/ in assets bucket and writes metadata in DynamoDB.

Visit your ALB domain ‚Üí Gallery should list images.

Click Generate AI Description ‚Üí verify descriptions populate via Bedrock and appear on refresh.

Push a small UI change to main ‚Üí watch Actions build & redeploy ‚Üí change appears live.

üõ°Ô∏è Notes on Security & Cost

Prefer OIDC for GitHub ‚Üí AWS (no long-lived keys).

Use least-privilege IAM inline policies for Lambda roles.

S3: Restrict public access; serve via ALB or signed URLs as needed.

DynamoDB: PAY_PER_REQUEST keeps costs predictable for a portfolio app.

Bedrock: monitor usage; Claude Haiku is cost-efficient for descriptions.
